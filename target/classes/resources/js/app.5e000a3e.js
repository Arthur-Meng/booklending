(function(e){function t(t){for(var i,a,s=t[0],c=t[1],l=t[2],u=0,h=[];u<s.length;u++)a=s[u],r[a]&&h.push(r[a][0]),r[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);d&&d(t);while(h.length)h.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],i=!0,a=1;a<n.length;a++){var s=n[a];0!==r[s]&&(i=!1)}i&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var i={},a={app:0},r={app:0},o=[];function s(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-55a5":"d38729e3","chunk-54ad":"82e411f4","chunk-78c2":"b9d76824","chunk-f1e3":"992512f3","chunk-a946":"ca090ac0"}[e]+".js"}function c(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-54ad":1,"chunk-78c2":1,"chunk-f1e3":1,"chunk-a946":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise(function(t,n){for(var i="css/"+({}[e]||e)+"."+{"chunk-55a5":"31d6cfe0","chunk-54ad":"32480cda","chunk-78c2":"c0f6038a","chunk-f1e3":"0172bd69","chunk-a946":"1faaa6d2"}[e]+".css",a=c.p+i,r=document.getElementsByTagName("link"),o=0;o<r.length;o++){var s=r[o],l=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(l===i||l===a))return t()}var u=document.getElementsByTagName("style");for(o=0;o<u.length;o++){s=u[o],l=s.getAttribute("data-href");if(l===i||l===a)return t()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=t,h.onerror=function(t){var i=t&&t.target&&t.target.src||a,r=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");r.request=i,n(r)},h.href=a;var d=document.getElementsByTagName("head")[0];d.appendChild(h)}).then(function(){a[e]=0}));var i=r[e];if(0!==i)if(i)t.push(i[2]);else{var o=new Promise(function(t,n){i=r[e]=[t,n]});t.push(i[2]=o);var l,u=document.getElementsByTagName("head")[0],h=document.createElement("script");h.charset="utf-8",h.timeout=120,c.nc&&h.setAttribute("nonce",c.nc),h.src=s(e),l=function(t){h.onerror=h.onload=null,clearTimeout(d);var n=r[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src,o=new Error("Loading chunk "+e+" failed.\n("+i+": "+a+")");o.type=i,o.request=a,n[1](o)}r[e]=void 0}};var d=setTimeout(function(){l({type:"timeout",target:h})},12e4);h.onerror=h.onload=l,u.appendChild(h)}return Promise.all(t)},c.m=e,c.c=i,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)c.d(n,i,function(t){return e[t]}.bind(null,i));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var h=0;h<l.length;h++)t(l[h]);var d=u;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"07d6":function(e,t,n){},"0bf5":function(e,t,n){"use strict";var i=n("30ca"),a=n.n(i);a.a},2856:function(e,t,n){},"30ca":function(e,t,n){},"43b4":function(e,t,n){},"4ee2":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var i=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},r=[],o=(n("5c0b"),n("2877")),s={},c=Object(o["a"])(s,a,r,!1,null,null,null);c.options.__file="App.vue";var l=c.exports,u=n("8c4f"),h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"sider-container"},[n("app-sider")],1),n("div",{staticClass:"nav-container"},[n("app-nav")],1),n("div",{staticClass:"main-container"},[n("app-main")],1)])},d=[],f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-menu",{staticClass:"sidebar",attrs:{router:"","background-color":"#242f42","text-color":"#BFCBD9","active-text-color":"#ffd04b","default-active":e.menuActived}},[e._l(e.items,function(t){return[t.hidden||t.children?e._e():[n("el-menu-item",{key:t.path,attrs:{index:t.path}},[n("i",{class:t.icon}),e._v(e._s(t.name)+"\n      ")])],!t.hidden&&t.children&&t.children.length<=1?[n("el-menu-item",{key:t.children[0].path,attrs:{index:t.path+t.children[0].path}},[n("i",{class:t.icon}),e._v(e._s(t.children[0].name)+"\n      ")])]:e._e(),!t.hidden&&t.children&&t.children.length>1?[n("el-submenu",{key:t.path,attrs:{index:t.path}},[n("template",{slot:"title"},[n("i",{class:t.icon}),e._v(e._s(t.name)+"\n        ")]),e._l(t.children,function(i,a){return n("el-menu-item",{key:a,attrs:{index:t.path+i.path}},[e._v("\n          "+e._s(i.name)+"\n        ")])})],2)]:e._e()]})],2)},p=[],m={data:function(){return{items:[]}},computed:{menuActived:function(){return this.$route.path}},created:function(){this.items=L}},v=m,w=(n("b268"),Object(o["a"])(v,f,p,!1,null,"e0bcf8f0",null));w.options.__file="AppSider.vue";var b=w.exports,_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",{staticClass:"nav-bar",attrs:{type:"flex",align:"middle"}},[n("el-col",{staticStyle:{"min-width":"40px"},attrs:{span:1}},[n("i",{directives:[{name:"show",rawName:"v-show",value:e.isShowArrow,expression:"isShowArrow"}],staticClass:"el-icon-third-arrowleft",on:{click:function(t){e.handleScroll(80,t)}}})]),n("el-col",{attrs:{span:22}},[n("div",{ref:"navContainer",staticClass:"nav-container",on:{wheel:function(t){return t.preventDefault(),e.onMouseWheel(t)}}},[n("div",{ref:"scrollWrapper",staticClass:"tags-view-wrapper",style:{left:e.left+"px"}},[n("div",{staticClass:"nav-view",class:e.isActive("/home")?"active":"",on:{click:function(t){e.changeTab("/home")}}},[n("i",{staticClass:"el-icon-third-dashboard",staticStyle:{"font-size":"14px"}}),e._v("\n                    首页\n                ")]),e._l(e.visitedViews,function(t){return n("div",{key:t.path,staticClass:"nav-view",class:e.isActive(t.path)?"active":"",on:{click:function(n){if(n.target!==n.currentTarget)return null;e.changeTab(t.path)}}},[e._v("\n                    "+e._s(t.name)+"\n                    "),n("i",{staticClass:"el-icon-close tab-close",on:{click:function(n){e.removeTab(t,n)}}})])})],2)])]),n("el-col",{staticStyle:{"min-width":"40px"},attrs:{span:1}},[n("i",{directives:[{name:"show",rawName:"v-show",value:e.isShowArrow,expression:"isShowArrow"}],staticClass:"el-icon-third-arrowright",on:{click:function(t){e.handleScroll(-80,t)}}}),n("el-dropdown",{attrs:{trigger:"click"},on:{command:e.handleCommand}},[n("span",{staticClass:"el-dropdown-link"},[n("i",{staticClass:"el-icon-third-arrowdown"})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"closeOthersTags"}},[e._v("关闭其他")]),n("el-dropdown-item",{attrs:{command:"closeAllTags"}},[e._v("关闭所有")])],1)],1)],1)],1)},g=[],y=(n("a481"),n("c93e")),k=n("2f62"),V={name:"appNav",data:function(){return{isShowArrow:!1,left:0}},computed:Object(y["a"])({},Object(k["b"])(["visitedViews"])),methods:{generateRoute:function(){return!(!this.$route.path||"/home"===this.$route.path)&&this.$route},addViewTabs:function(){this.watchScroll(),this.$store.dispatch("addVisitedViews",this.generateRoute())},onTabClick:function(e,t){this.$router.push(e.$attrs.path)},changeTab:function(e){this.$router.replace(e)},removeTab:function(e,t){var n=this;this.$store.dispatch("delVisitedViews",e).then(function(t){if(n.isActive(e.path)){var i=t.slice(-1)[0];i?n.$router.push(i):n.$router.push("/home")}}),this.watchScroll(),t.preventDefault()},watchScroll:function(){var e=this.$refs.navContainer.offsetWidth,t=this.$refs.scrollWrapper.offsetWidth;this.isShowArrow=!(e-t>=0)},isActive:function(e){return e===this.$route.path},onMouseWheel:function(e){var t=e.wheelDelta&&(e.wheelDelta>0?120:-120)||e.detail&&(e.detail>0?-120:120);this.handleScroll(t,e)},handleScroll:function(e,t){var n=this.$refs.navContainer.offsetWidth,i=this.$refs.scrollWrapper.offsetWidth;e>0?this.left=Math.min(0,this.left+e):n<i?this.left<-(i-n)?this.left=this.left:this.left=Math.max(this.left+e,n-i):this.left=0,t.preventDefault()},handleCommand:function(e){this[e]()},closeOthersTags:function(){"/home"!==this.$route.path?this.$store.dispatch("delOthersViews",this.$route):this.$store.dispatch("delAllViews")},closeAllTags:function(){this.$store.dispatch("delAllViews"),this.$router.push("/home")}},watch:{$route:function(){this.addViewTabs()}},mounted:function(){this.addViewTabs()}},S=V,E=(n("9cab"),Object(o["a"])(S,_,g,!1,null,"90633e88",null));E.options.__file="AppNav.vue";var A=E.exports,x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"app-main"},[n("transition",{attrs:{name:"move",mode:"out-in"}},[n("router-view")],1)],1)},T=[],$={name:"appMain"},C=$,O=(n("0bf5"),Object(o["a"])(C,x,T,!1,null,"cfa77b7a",null));O.options.__file="AppMain.vue";var j=O.exports,D={name:"layout",components:{AppNav:A,AppSider:b,AppMain:j}},W=D,I=(n("f1ae"),Object(o["a"])(W,h,d,!1,null,"26a8070c",null));I.options.__file="Layout.vue";var P=I.exports;i["default"].use(u["a"]);var L=[{path:"/manager/",name:"图书管理",component:P,children:[{path:"book",name:"图书管理",component:function(){return Promise.all([n.e("chunk-55a5"),n.e("chunk-f1e3")]).then(n.bind(null,"90df"))}},{path:"borrow",name:"借阅管理",component:function(){return Promise.all([n.e("chunk-55a5"),n.e("chunk-78c2")]).then(n.bind(null,"de5a"))}},{path:"statistics",name:"图书统计",component:function(){return Promise.all([n.e("chunk-55a5"),n.e("chunk-54ad")]).then(n.bind(null,"ac67"))}}]}],M=[{path:"/index2.html",name:"index",redirect:"/home"},{path:"/",redirect:"/home",component:P,children:[{path:"home",name:"首页",component:function(){return n.e("chunk-a946").then(n.bind(null,"7abe"))}}]}],N=M.concat(L),B=new u["a"]({mode:"hash",routes:N}),R=n("8afe"),q=n("9393"),H=(n("ac4d"),n("8a81"),n("ac6a"),n("7f7f"),{state:{visitedViews:[]},mutations:{ADD_VISITED_VIEWS:function(e,t){if(t){if(e.visitedViews.some(function(e){return e.path===t.path}))return;e.visitedViews.push({name:t.name,path:t.path})}},DEL_VISITED_VIEWS:function(e,t){var n,i=!0,a=!1,r=void 0;try{for(var o,s=e.visitedViews.entries()[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var c=Object(q["a"])(o.value,2),l=c[0],u=c[1];if(u.path===t.path){n=l;break}}}catch(e){a=!0,r=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw r}}console.log(e.visitedViews,n),e.visitedViews.splice(n,1)},DEL_OTHERS_VIEWS:function(e,t){e.visitedViews=e.visitedViews.filter(function(n,i){if(n.name===t.name)return e.visitedViews.slice(i,i+1)})},DEL_ALL_VIEWS:function(e){e.visitedViews=[]}},actions:{addVisitedViews:function(e,t){var n=e.commit;n("ADD_VISITED_VIEWS",t)},delVisitedViews:function(e,t){var n=e.commit,i=e.state;return new Promise(function(e){n("DEL_VISITED_VIEWS",t),console.log(Object(R["a"])(i.visitedViews)),e(Object(R["a"])(i.visitedViews))})},delOthersViews:function(e,t){var n=e.commit;n("DEL_OTHERS_VIEWS",t)},delAllViews:function(e){var t=e.commit;t("DEL_ALL_VIEWS")}}}),J=H,z={visitedViews:function(e){return e.app.visitedViews}},F=z;i["default"].use(k["a"]);var G=new k["a"].Store({modules:{app:J},getters:F}),K=n("bc3a"),Q=n.n(K),U={timeout:1e4,responseType:"json"},X=n("5c96"),Y=n.n(X),Z=Q.a.create(U);Z.interceptors.response.use(function(e){return e},function(e){return Object(X["Message"])({showClose:!0,message:"请求失败",type:"error"}),Promise.reject(e)});var ee=Z;n("0fae"),n("5f60"),n("4ee2"),n("43b4");i["default"].config.productionTip=!1,i["default"].prototype.$axios=ee,i["default"].use(Y.a),new i["default"]({router:B,store:G,render:function(e){return e(l)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var i=n("2856"),a=n.n(i);a.a},"5f60":function(e,t,n){},"9cab":function(e,t,n){"use strict";var i=n("dfb8"),a=n.n(i);a.a},ac74:function(e,t,n){},b268:function(e,t,n){"use strict";var i=n("07d6"),a=n.n(i);a.a},dfb8:function(e,t,n){},f1ae:function(e,t,n){"use strict";var i=n("ac74"),a=n.n(i);a.a}});
//# sourceMappingURL=app.5e000a3e.js.map